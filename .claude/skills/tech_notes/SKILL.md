---
name: tech_notes
description: Фиксация вопросов о технологиях в Obsidian. Автоматическое сохранение при изучении новых тем.
---

# Tech Notes

Автоматическая фиксация вопросов пользователя о технологиях в Obsidian.

## Триггер

Пользователь задаёт вопрос о технологии:
- "Что такое X?"
- "Как работает X?"
- "В чём разница между X и Y?"
- "Объясни Z"

## Когда обновлять заметку

**Не после каждого ответа, но и не в конце сессии** (риск потери при compact).

Обновлять когда **тема логически закрыта**:
- Пользователь перешёл к другой теме/технологии
- Серия вопросов по теме закончилась (2-3 вопроса → пауза)
- Пользователь сказал "понял" / перешёл к коду
- Явная команда "зафиксируй"

**Не откладывать до конца сессии** — compact может случиться раньше, инфа потеряется.

**Не обновлять** после каждого отдельного вопроса (слишком часто).

## Алгоритм

1. **Вопрос по технологии** → записать в TodoWrite: `"Kafka: как работает rebalance"`

2. **Ответить пользователю** — ответ в чат

3. **Когда тема закрыта** — синхронизировать с Obsidian:
   - Найти: `mcp__obsidian__search_notes(query="<technology>", mode="name_partial")`
   - Прочитать: `mcp__obsidian__read_note(name="<note>")`
   - Если информации нет — добавить через `append_note()` или `replace_text()`
   - Если блок > 100 строк — вынести в отдельную заметку
   - **Удалить вопрос из TodoWrite** (не отмечать, а удалить)

4. **Если заметки нет:**
   - Создать: `mcp__obsidian__create_note()`
   - Написать полный гайд по эталону [[PostgreSQL Joins]]

## Буфер вопросов (TodoWrite)

TodoWrite как буфер для отслеживания незафиксированных вопросов.

**Формат записи:**
```
<Technology>: <краткий вопрос>
```

**Примеры:**
- `Kafka: как работает rebalance`
- `ClickHouse: когда использовать MergeTree vs ReplacingMergeTree`
- `WebSocket: reconnect стратегии`

**Правила:**
- Без статусов, без чеклистов — просто список вопросов
- После синхронизации в Obsidian — удалить вопрос из списка
- TodoWrite сохраняется при compact (проверено)

## Структура контента

**Перед созданием/редактированием заметки** прочитать `[[Tech Notes Flow]]`:
```
mcp__obsidian__read_note(name="Tech Notes Flow")
```

Заметка содержит:
- Naming convention (`TechName Topic`)
- Жизненный цикл заметки (когда выносить в подзаметку)
- Anti-patterns (чего избегать)

**Эталон гайда:** `[[PostgreSQL Joins]]` — пример хорошо структурированной заметки.
